import streamlit as st
from llm_handler import query_huggingface

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
st.set_page_config(page_title="AI-–∫–æ–º–º—É–Ω–∏–∫–∞—Ç–æ—Ä —Å–ø—Ä–æ—Å–∞", page_icon="ü§ñüåßÔ∏è")
st.title("ü§ñüåßÔ∏è AI-–∫–æ–º–º—É–Ω–∏–∫–∞—Ç–æ—Ä —Å–ø—Ä–æ—Å–∞ (—Ç–µ—Å—Ç –ø–æ–≥–æ–¥—ã)")
st.caption("LLM-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Å–æ–±—ã—Ç–∏–π–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø—Ä–æ—Å–∞ –≤ –ª–æ–≥–∏—Å—Ç–∏–∫–µ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–µ")

# –ò–Ω–ø—É—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
user_input = st.text_input(
    "–í–≤–µ–¥–∏—Ç–µ —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞",
    placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–æ–Ω—Ü–µ—Ä—Ç Imagine Dragons –≤ –õ—É–∂–Ω–∏–∫–∞—Ö + –∂–∞—Ä–∞"
)

# –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
if st.button("–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏") and user_input:
    with st.spinner("‚è≥ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏–µ..."):
        output = query_huggingface(user_input)
    
    # –í—ã–≤–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ markdown
    st.markdown("### üìå –û—Ç–≤–µ—Ç –æ—Ç AI:")
    st.markdown(output)

# –ü–æ–¥–≤–∞–ª
st.markdown("---")
st.caption("v1.1 ¬∑ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è AI-—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Hugging Face ¬∑ by Kate")
